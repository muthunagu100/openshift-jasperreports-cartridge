<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List
href="Ad%20Hoc%20Launcher%20Sample%20Install_files/filelist.xml">
<link rel=Edit-Time-Data
href="Ad%20Hoc%20Launcher%20Sample%20Install_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>Ad Hoc Launcher Sample Install</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Bob Tinsman</o:Author>
  <o:LastAuthor>Bob Tinsman</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>31</o:TotalTime>
  <o:Created>2007-10-18T20:15:00Z</o:Created>
  <o:LastSaved>2007-10-18T20:15:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>898</o:Words>
  <o:Characters>5123</o:Characters>
  <o:Company>JasperSoft</o:Company>
  <o:Lines>42</o:Lines>
  <o:Paragraphs>12</o:Paragraphs>
  <o:CharactersWithSpaces>6009</o:CharactersWithSpaces>
  <o:Version>11.5606</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:GrammarState>Clean</w:GrammarState>
  <w:PunctuationKerning/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h2
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:2;
	font-size:18.0pt;
	font-family:"Times New Roman";
	font-weight:bold;}
h3
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:3;
	font-size:13.5pt;
	font-family:"Times New Roman";
	font-weight:bold;}
h4
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:4;
	font-size:12.0pt;
	font-family:"Times New Roman";
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
p
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
span.formtitle
	{mso-style-name:formtitle;}
span.inline-control-link
	{mso-style-name:inline-control-link;}
span.editpageinsertlinks
	{mso-style-name:editpageinsertlinks;}
span.nobr
	{mso-style-name:nobr;}
span.smalltext
	{mso-style-name:smalltext;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:517738984;
	mso-list-template-ids:1135143298;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l1
	{mso-list-id:858202768;
	mso-list-template-ids:1614863112;}
@list l1:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l2
	{mso-list-id:1122531568;
	mso-list-template-ids:-795737918;}
@list l2:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l3
	{mso-list-id:1380473851;
	mso-list-template-ids:-802675050;}
@list l3:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l3:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:"Courier New";
	mso-bidi-font-family:"Times New Roman";}
@list l4
	{mso-list-id:1448112810;
	mso-list-type:hybrid;
	mso-list-template-ids:1428857620 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l4:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l4:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:"Courier New";}
@list l5
	{mso-list-id:1973706162;
	mso-list-template-ids:1651415006;}
@list l5:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2050"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-US link=blue vlink=purple style='tab-interval:.5in'>

<div class=Section1>

<h2 style='background:white'><a name=AdHocQueryAPIDoc-Introduction></a>Introduction</h2>

<p style='background:white'>Ad Hoc Launcher is an interface built into
JasperServer Pro that allows a developer to enhance the Ad Hoc editor by adding
a custom query editor. This query editor replaces the topic selection page that
the user normally sees when creating a new Ad Hoc report, and can perform the
following actions:</p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l5 level1 lfo1;tab-stops:list .5in;background:white'>Select a
     datasource of any type from those defined in the repository</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l5 level1 lfo1;tab-stops:list .5in;background:white'>Define a
     query to supply data for Ad Hoc</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l5 level1 lfo1;tab-stops:list .5in;background:white'>Create the
     list of fields available in the Ad Hoc editor</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l5 level1 lfo1;tab-stops:list .5in;background:white'>Select the
     type of Ad Hoc report to create (table, chart, or crosstab)</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l5 level1 lfo1;tab-stops:list .5in;background:white'>Have Ad Hoc
     save arbitrary data along with the Ad Hoc report unit</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l5 level1 lfo1;tab-stops:list .5in;background:white'>Have Ad Hoc
     launch the query editor instead of Ad Hoc when editing a saved Ad Hoc
     report unit</li>
</ul>

<h2 style='background:white'><a name=AdHocQueryAPIDoc-SampleAdHocLauncher></a>Sample
Ad Hoc Launcher</h2>

<p style='background:white'>The <span class=nobr>JasperServer</span> Pro
distribution includes files for building a sample query editor called <em>browseDB</em>.
<span class=nobr><i>BrowseDB</i></span> displays all the tables in a SQL
database and lets you construct simple queries with joins that can be used in
Ad Hoc. </p>

<h3 style='background:white'><a name=AdHocQueryAPIDoc-InstallingthebrowseDBAd></a>Installing
the browseDB Ad Hoc launcher</h3>

<p style='background:white'>The files for <em>browseDB</em> are located under <em>&lt;js-install&gt;/samples/customAdHoc</em>.
A build.xml file is included which will install <em>browseDB</em> using Ant,
which is also included in <span class=nobr>JasperServer</span>.<br>
Once you have <span class=nobr>JasperServer</span> installed under Tomcat or
another application server, you may take the following steps to add the sample
query editor to the <span class=nobr>JasperServer</span> Pro webapp:</p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l2 level1 lfo2;tab-stops:list .5in;background:white'>Start a
     command line of your choice and change your current directory to <em>&lt;js-install&gt;/samples/customAdHoc</em>.</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l2 level1 lfo2;tab-stops:list .5in;background:white'>Edit <em>build.xml</em>
     and set the <em>webAppDir</em> property to the root of the <span
     class=nobr>JasperServer</span> Pro webapp.</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l2 level1 lfo2;tab-stops:list .5in;background:white'>Run <i
     style='mso-bidi-font-style:normal'>&lt;js-install&gt;/ant/bin/ant</i>. The
     default target in <i style='mso-bidi-font-style:normal'>build.xml </i>will
     compile the sample Java source and deploy it with other files to the <span
     class=nobr>JasperServer</span> Pro webapp.</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l2 level1 lfo2;tab-stops:list .5in;background:white'>Restart the
     application server.</li>
</ul>

<h3 style='background:white'><a name=AdHocQueryAPIDoc-RunningthebrowseDBAdHoc></a>Running
the browseDB Ad Hoc launcher</h3>

<p style='background:white'>The following instructions assume an application
server running locally at port 8080 with the <span class=nobr>JasperServer</span>
Pro webapp installed as <em>jasperserver-pro</em>.</p>

<h4>Selecting a datasource</h4>

<p class=MsoNormal>Use a web browser to log into JasperServer Pro at <a
href="http://localhost:8080/jasperserver-pro">http://localhost:8080/jasperserver-pro</a>.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Go to the URL <a
href="http://localhost:8080/jasperserver-pro/browseDB/browseDB.html?action=pickDatasource">http://localhost:8080/jasperserver-pro/browseDB/browseDB.html?action=pickDatasource</a>.
</p>

<p class=MsoNormal>You should get a dropdown containing all the datasources
that are reported to support SQL. Select a datasource that corresponds to a
MySQL database, because browseDB's type mapping assumes MySQL database types. <!--[if gte vml 1]><v:shapetype
 id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t"
 path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:431.25pt;
 height:325.5pt'>
 <v:imagedata src="Ad%20Hoc%20Launcher%20Sample%20Install_files/image001.png"
  o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=575 height=434
src="Ad%20Hoc%20Launcher%20Sample%20Install_files/image002.jpg" v:shapes="_x0000_i1025"><![endif]></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Click &quot;Display Tables&quot;; you should get a page that
lists all the tables in the database, each with a list of columns and their sql
types. To look at the list of columns for a table, click on the “+” to the left
of the table.</p>

<p class=MsoNormal><!--[if gte vml 1]><v:shape id="_x0000_i1026" type="#_x0000_t75"
 style='width:431.25pt;height:325.5pt'>
 <v:imagedata src="Ad%20Hoc%20Launcher%20Sample%20Install_files/image003.png"
  o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=575 height=434
src="Ad%20Hoc%20Launcher%20Sample%20Install_files/image004.jpg" v:shapes="_x0000_i1026"><![endif]></p>

<h4 style='background:white'><a name=AdHocQueryAPIDoc-Selectingthemainqueryta></a>Selecting
the main query table</h4>

<p class=MsoNormal>Click on one of the table names to select it as the main
query table, and it will be displayed first. This table will be used as the
basis for the SQL query used by Ad Hoc.</p>

<p class=MsoNormal>If you launch Ad Hoc now (see below), browseDB will create
the query “select * from &lt;table&gt;” and include all the fields in that
table, or you can join additional tables to the query.</p>

<p class=MsoNormal><!--[if gte vml 1]><v:shape id="_x0000_i1027" type="#_x0000_t75"
 style='width:431.25pt;height:325.5pt'>
 <v:imagedata src="Ad%20Hoc%20Launcher%20Sample%20Install_files/image005.png"
  o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=575 height=434
src="Ad%20Hoc%20Launcher%20Sample%20Install_files/image006.jpg" v:shapes="_x0000_i1027"><![endif]></p>

<h4>Selecting the primary key for a table</h4>

<p class=MsoNormal>BrowseDB allows you to select one column in a table for
joining to that table, which is called the primary key. You can set a primary
key by clicking on the column, then clicking “Set selected column as primary
key”. Each table with a primary key is added to the dropdown at the top right.
“PK” will appear next to the column name.</p>

<p class=MsoNormal><!--[if gte vml 1]><v:shape id="_x0000_i1028" type="#_x0000_t75"
 style='width:431.25pt;height:378.75pt'>
 <v:imagedata src="Ad%20Hoc%20Launcher%20Sample%20Install_files/image007.png"
  o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=575 height=505
src="Ad%20Hoc%20Launcher%20Sample%20Install_files/image008.jpg" v:shapes="_x0000_i1028"><![endif]></p>

<h4>Joining tables to the main query table</h4>

<p class=MsoNormal>To join a column to the main table, select a column in the
main table to join, then select a table in the dropdown to join to, then click
“Join selected column on main table to…<span class=GramE>”.</span> The table
will be added to the main query table.</p>

<p class=MsoNormal><!--[if gte vml 1]><v:shape id="_x0000_i1029" type="#_x0000_t75"
 style='width:431.25pt;height:311.25pt'>
 <v:imagedata src="Ad%20Hoc%20Launcher%20Sample%20Install_files/image009.png"
  o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=575 height=415
src="Ad%20Hoc%20Launcher%20Sample%20Install_files/image010.jpg" v:shapes="_x0000_i1029"><![endif]></p>

<h4>Starting Ad Hoc</h4>

<p class=MsoNormal>Once you are satisfied with the configuration of the query,
you can start up Ad Hoc by clicking on one of the buttons for Ad Hoc report
type: “Table”, “Crosstab”, or “Chart”. A query will be created which joins the
main table to the other tables that were selected as join tables, and the
Available Fields list will include all the columns in those tables. The column
names are slightly massaged for readability (for example “brand_name” will be
converted to “Brand Name”).</p>

<p class=MsoNormal><!--[if gte vml 1]><v:shape id="_x0000_i1030" type="#_x0000_t75"
 style='width:431.25pt;height:351pt'>
 <v:imagedata src="Ad%20Hoc%20Launcher%20Sample%20Install_files/image011.png"
  o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=575 height=468
src="Ad%20Hoc%20Launcher%20Sample%20Install_files/image012.jpg" v:shapes="_x0000_i1030"><![endif]></p>

<h4><a name="AdHocQueryAPIDoc-What'sgoing"></a>Relaunching browseDB</h4>

<p class=MsoNormal>After saving the report to the repository from the Ad Hoc
editor, Ad Hoc will remember that you used browseDB to construct the query and
will save all the associated data in the browseDB table list.</p>

<p class=MsoNormal>In the repository, the report looks like another Ad Hoc
report, with an icon for launching Ad Hoc again. However, when you click on
that icon, the browseDB page displaying the list of tables will be launched
instead of the Ad Hoc editor. You can do further editing, then launch Ad Hoc
again by clicking “Start Ad Hoc”.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>NOTE:</b> If you use
a field in an Ad Hoc report and later delete that field using browseDB, the
corresponding Ad Hoc element will be deleted when you go into Ad Hoc again.</p>

<p class=MsoNormal>For example, if you create an Ad Hoc table with a column
using the field “Brand Name”, and you delete that field later, the
corresponding column will also be deleted from the table.</p>

<p class=MsoNormal><span style='mso-spacerun:yes'> </span></p>

</div>

</body>

</html>
