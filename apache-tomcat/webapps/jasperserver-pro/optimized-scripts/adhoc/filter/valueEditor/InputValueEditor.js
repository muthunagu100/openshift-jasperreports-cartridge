define(["require","underscore","jquery","jrs.configs","adhoc/filter/valueEditor/AbstractValueEditor"],function(t){var e=t("underscore"),n=t("jquery"),o=t("jrs.configs"),r=t("adhoc/filter/valueEditor/AbstractValueEditor"),s="_corrupted";return r.extend({inputSelector:"input[type='text']",events:function(){var t={};return t["change "+this.inputSelector]="onChange",t},registerEvents:function(){this.listenTo(this.model,"change:"+this.modelVariableName,this.render)},onChange:function(){var t=n(this.$(this.inputSelector)[0]),e=this.convert(t.val());this.setValue(e)},serializeModel:function(){var t=this.model.toJSON();return t.value=this._replaceValue(t.value),t},_replaceValue:function(t){return t===o.inputControlsConstants.NULL_SUBSTITUTION_VALUE&&(t=""),!e.isString(t)||t.toLowerCase()!==o.inputControlsConstants.NULL_SUBSTITUTION_VALUE.toLowerCase()+s&&t.toLowerCase()!==o.inputControlsConstants.NULL_SUBSTITUTION_LABEL.toLowerCase()+s||(t=t.split(s)[0]),t},_basicValueConverter:function(t){return(t.toLowerCase()===o.inputControlsConstants.NULL_SUBSTITUTION_VALUE.toLowerCase()||t.toLowerCase()===o.inputControlsConstants.NULL_SUBSTITUTION_LABEL.toLowerCase())&&(t+=s),""===t&&(t=o.inputControlsConstants.NULL_SUBSTITUTION_VALUE),t}})});