var crossTabMultiSelect={};crossTabMultiSelect.ROW_GROUP="rowGroup",crossTabMultiSelect.COL_GROUP="colGroupHeaderRow",crossTabMultiSelect.ROW_GROUP_LEVEL="rowGroupLevel_",crossTabMultiSelect.COl_GROUP_LEVEL="colGroupLevel_",crossTabMultiSelect.selectedCells=[],crossTabMultiSelect.selectXtabGroupMember=function(e,t){e=$(e);var a=null,l=null,s=null,r=null,i=new RegExp("\\d+"),c="SPAN"==e.tagName&&e.parentNode||e;c||(a=null);var d=$(c).identify(),u=i.exec(d)[0];if(d.startsWith(crossTabMultiSelect.ROW_GROUP)?(a=crossTabMultiSelect.ROW_GROUP_LEVEL+u,r=crossTabMultiSelect.ROW_GROUP,l="row"):d.startsWith(crossTabMultiSelect.COL_GROUP)&&(a=crossTabMultiSelect.COl_GROUP_LEVEL+u,r=crossTabMultiSelect.COL_GROUP,l="column"),a){var o=null,b=null;if(s={id:e.identify(),path:e.readAttribute("data-path"),value:e.readAttribute("data-fieldValue"),isSummary:e.readAttribute("data-isSummaryHeader"),isSliceable:"true"===e.readAttribute("data-sliceable"),axis:l,isInner:e.hasClassName("inner"),sorting:e.readAttribute("data-sorting"),level:e.readAttribute("data-levelname"),name:e.readAttribute("data-levelname")},b=isShiftHeld(t),selectionCategory.area==a&&b){i=new RegExp(/\d+$/);var n=selObjects[selObjects.length-1];if(n){var S=parseInt(i.exec(n.id)),M=parseInt(i.exec(e.id)),O=Math.abs(M-S),T=M>S;if(crossTabMultiSelect.isObjectAlreadySelected(s))adhocDesigner.removeSelectedObject(s);else for(var v=0;O>=v;v++){var m=T?S+v:S-v,A=$(r+"_"+u+"_"+m);if(A){var C={id:A.identify(),path:A.readAttribute("data-path"),value:A.readAttribute("data-fieldValue"),isSummary:A.readAttribute("data-isSummaryHeader"),isSliceable:"true"===A.readAttribute("data-sliceable"),axis:l,isInner:A.hasClassName("inner"),sorting:A.readAttribute("data-sorting"),level:A.readAttribute("data-levelname"),name:A.readAttribute("data-levelname")};designerBase.addToSelected(C),crossTabMultiSelect.activateSelectedXtabCells()}}selectionCategory.area=a}}else"false"===$(e).getAttribute("data-isSummaryHeader")?(o=isMetaHeld(t),s={id:e.identify(),path:e.readAttribute("data-path"),value:e.readAttribute("data-fieldValue"),isSummary:e.readAttribute("data-isSummaryHeader"),isSliceable:"true"===e.readAttribute("data-sliceable"),axis:l,isInner:e.hasClassName("inner"),sorting:e.readAttribute("data-sorting"),level:e.readAttribute("data-levelname"),name:e.readAttribute("data-levelname")},crossTabMultiSelect.isObjectAlreadySelected(s)&&o?crossTabMultiSelect.removeSelectedObject(s):((!o||designerBase.shouldClearSelections(t,a))&&(crossTabMultiSelect.deselectAllGroupMembers(t),designerBase.unSelectAll()),designerBase.addToSelected(s),crossTabMultiSelect.activateSelectedXtabCells(),selectionCategory.area=a)):isRightClick(t)&&(crossTabMultiSelect.isObjectAlreadySelected(s)||(crossTabMultiSelect.deselectAllGroupMembers(),designerBase.unSelectAll(),designerBase.addToSelected(s)));actionModel.setSelected(selObjects)}},crossTabMultiSelect.selectXtabGroupLabel=function(e){designerBase.unSelectAll(),selectionCategory.area="column"===e.axis?designerBase.COLUMN_GROUP_MENU_LEVEL:designerBase.ROW_GROUP_MENU_LEVEL,actionModel.setSelected([e]),designerBase.addToSelected(e)},crossTabMultiSelect.isObjectAlreadySelected=function(e){return designerBase.isObjectInSelection(e,"id")},crossTabMultiSelect.removeSelectedObject=function(e){crossTabMultiSelect.deactivateXtabCell(e);for(var t=null,a=0;a<selObjects.length;a++)if(selObjects[a].id==e.id){t=a;break}selObjects=selObjects.without(selObjects[t])},crossTabMultiSelect.activateSelectedXtabCells=function(){selObjects.each(function(e){crossTabMultiSelect.activateXtabCell(e)})},crossTabMultiSelect.activateXtabCell=function(e){if(e&&e.id){var t=e.id;(t.startsWith("colGroupHeaderRow")||t.startsWith("rowGroup"))&&$(t)&&($(t).addClassName("selected"),crossTabMultiSelect.selectedCells.push(e))}},crossTabMultiSelect.deactivateXtabCell=function(e){if(e&&e.id){var t=e.id;(t.startsWith("colGroupHeaderRow")||t.startsWith("rowGroup"))&&$(t)&&($(t).removeClassName("selected"),crossTabMultiSelect.selectedCells.without(e))}},crossTabMultiSelect.deactivateSelectedXtabCells=function(){selObjects.each(function(e){crossTabMultiSelect.deactivateXtabCell(e)})},crossTabMultiSelect.deselectAllGroupMembers=function(){crossTabMultiSelect.selectedCells.each(function(e){crossTabMultiSelect.deactivateXtabCell(e)}),crossTabMultiSelect.selectedCells.clear()};