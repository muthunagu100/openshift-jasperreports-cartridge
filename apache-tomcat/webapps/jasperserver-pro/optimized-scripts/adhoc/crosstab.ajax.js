AdHocCrosstab.insertDimensionInAxisWithChild=function(e){designerBase.sendRequest("cr_insertDimensionInAxisWithChild",e,localContext.standardCrosstabOpCallback,{bPost:!0})},AdHocCrosstab.insertDimensionInRowAxisWithLevel=function(e,o,n,s){AdHocCrosstab.insertDimensionInAxisWithChild({dim:e,axis:"row",pos:n,child:o,measure_pos:s})},AdHocCrosstab.insertDimensionInColumnAxisWithLevel=function(e,o,n,s){AdHocCrosstab.insertDimensionInAxisWithChild({dim:e,axis:"column",pos:n,child:o,measure_pos:s})},AdHocCrosstab.insertDimensionInRowAxisWithAllLevels=function(e,o){AdHocCrosstab.insertDimensionInAxisWithChild({dim:e,axis:"row",pos:o})},AdHocCrosstab.insertDimensionInColumnAxisWithAllLevels=function(e,o){AdHocCrosstab.insertDimensionInAxisWithChild({dim:e,axis:"column",pos:o})},AdHocCrosstab.moveDimension=function(e,o,n){var s=function(e){localContext.standardCrosstabOpCallback(e),designerBase.unSelectAll()};designerBase.sendRequest("cr_moveDimension",new Array("dim="+encodeText(e),"axis="+o,"pos="+n),s,null)},AdHocCrosstab.removeDimension=function(e,o){var n=function(e){localContext.standardCrosstabOpCallback(e),designerBase.unSelectAll()};designerBase.sendRequest("cr_removeDimension",new Array("axis="+e,"pos="+o),n,null)},AdHocCrosstab.showRowLevel=function(e,o){var n=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_showRowLevel",new Array("f="+encodeText(e),"level="+encodeText(o)),n,null)},AdHocCrosstab.hideRowLevel=function(e,o){var n=function(n){localContext.standardCrosstabOpCallback(n);var s=localContext.state.getLevelObject(o,e,"row");s&&s.propertyMap&&"true"==s.propertyMap.lastFilteredLevel&&dialogs.systemConfirm.show(adhocDesigner.getMessage("ADH_CROSSTAB_LAST_FILTERED_LEVEL"),5e3)};designerBase.sendRequest("cr_hideRowLevel",new Array("f="+encodeText(e),"level="+encodeText(o)),n,null)},AdHocCrosstab.showColumnLevel=function(e,o){var n=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_showColumnLevel",new Array("f="+encodeText(e),"level="+encodeText(o)),n,null)},AdHocCrosstab.hideColumnLevel=function(e,o){var n=function(n){localContext.standardCrosstabOpCallback(n);var s=localContext.state.getLevelObject(o,e,"column");s&&s.propertyMap&&"true"==s.propertyMap.lastFilteredLevel&&dialogs.systemConfirm.show(adhocDesigner.getMessage("ADH_CROSSTAB_LAST_FILTERED_LEVEL"),5e3)};designerBase.sendRequest("cr_hideColumnLevel",new Array("f="+encodeText(e),"level="+encodeText(o)),n,null)},AdHocCrosstab.pivot=function(){designerBase.sendRequest("cr_pivot",[],localContext.standardCrosstabOpCallback,null)},AdHocCrosstab.insertMeasure=function(e,o,n){var s=function(e){localContext.standardCrosstabOpCallback(e)},t=_.reject({measure:e,pos:o,axis:n},_.isUndefined);designerBase.sendRequest("cr_insertMeasure",t,s,null)},AdHocCrosstab.moveMeasure=function(e,o){var n=function(e){localContext.standardCrosstabOpCallback(e),designerBase.unSelectAll()};designerBase.sendRequest("cr_moveMeasureByName",["measure="+e,"to="+o],n,null)},AdHocCrosstab.removeMeasure=function(e){if(!Object.isNumber(e)){var o=adhocDesigner.getSelectedColumnOrGroup();e=o.index}var n=function(e){localContext.standardCrosstabOpCallback(e),designerBase.unSelectAll()};designerBase.sendRequest("cr_removeMeasure",new Array("i="+e),n,null)},AdHocCrosstab.expandLevel=function(e,o,n){if(!e||!o){var s=adhocDesigner.getSelectedColumnOrGroup();e=s.dimensionId,o=s.level}var t=new Array("f="+encodeText(e),"level="+encodeText(o),"isRow="+n);designerBase.sendRequest("cr_expandLevel",t,localContext.standardCrosstabOpCallback,null)},AdHocCrosstab.collapseLevel=function(e,o,n){if(!e||!o){var s=adhocDesigner.getSelectedColumnOrGroup();e=s.dimensionId,o=s.level}var t=new Array("f="+encodeText(e),"level="+encodeText(o),"isRow="+n);designerBase.sendRequest("cr_collapseLevel",t,localContext.standardCrosstabOpCallback,null)},AdHocCrosstab.insertColumnGroup=function(e,o){var n=function(e){localContext.standardCrosstabOpCallback(e)};canAddAsGroup()&&designerBase.sendRequest("cr_insertColumnGroup",new Array("f="+encodeText(e),"i="+o),n,null)},AdHocCrosstab.insertRowGroup=function(e,o){var n=function(e){localContext.standardCrosstabOpCallback(e)};canAddAsGroup()&&designerBase.sendRequest("cr_insertRowGroup",new Array("f="+encodeText(e),"i="+o),n,null)},AdHocCrosstab.removeColumnGroup=function(e){if(!e){var o=adhocDesigner.getSelectedColumnOrGroup();e=AdHocCrosstab.getSelectedDimensionIndex(o)}var n=function(e){localContext.standardCrosstabOpCallback(e),designerBase.unSelectAll()};designerBase.sendRequest("cr_removeColumnGroup",new Array("i="+e),n,null)},AdHocCrosstab.removeRowGroup=function(e){if(!e){var o=adhocDesigner.getSelectedColumnOrGroup();e=AdHocCrosstab.getSelectedDimensionIndex(o)}var n=function(e){localContext.standardCrosstabOpCallback(e),designerBase.unSelectAll()};designerBase.sendRequest("cr_removeRowGroup",new Array("i="+e),n,null)},AdHocCrosstab.moveRowGroup=function(e,o,n){var s=function(e){localContext.standardCrosstabOpCallback(e),n&&n(),designerBase.unSelectAll()};designerBase.sendRequest("cr_moveRowGroup",new Array("f="+e,"t="+o),s,null)},AdHocCrosstab.moveColumnGroup=function(e,o,n){var s=function(e){localContext.standardCrosstabOpCallback(e),n&&n(),designerBase.unSelectAll()};designerBase.sendRequest("cr_moveColumnGroup",new Array("f="+e,"t="+o),s,null)},AdHocCrosstab.toggleExpandCollapseForColumn=function(e,o){var n=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_toggleExpandCollapseForColumn",new Array("nodePath="+encodeText(e),"i="+o),n,null)},AdHocCrosstab.toggleExpandCollapseForRow=function(e,o){var n=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_toggleExpandCollapseForRow",new Array("nodePath="+encodeText(e),"i="+o),n,null)},AdHocCrosstab.switchToRowGroup=function(e){var o=adhocDesigner.getSelectedColumnOrGroup(),n=_.isNumber(e)?e:o.groupIndex;designerBase.sendRequest("cr_switchToRowGroup",new Array("i="+n),localContext.standardCrosstabOpCallback,null)},AdHocCrosstab.switchToColumnGroup=function(e){var o=adhocDesigner.getSelectedColumnOrGroup(),n=_.isNumber(e)?e:o.groupIndex;designerBase.sendRequest("cr_switchToColumnGroup",new Array("i="+n),localContext.standardCrosstabOpCallback,null)},AdHocCrosstab.deleteRowGroupSummary=function(){var e=adhocDesigner.getSelectedColumnOrGroup(),o=AdHocCrosstab.getSelectedDimensionIndex(e),n=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setIncludeAllOnRows",new Array("pos="+o,"value=false"),n,null)},AdHocCrosstab.addRowGroupSummary=function(){var e=adhocDesigner.getSelectedColumnOrGroup(),o=AdHocCrosstab.getSelectedDimensionIndex(e),n=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setIncludeAllOnRows",new Array("pos="+o,"value=true"),n,null)},AdHocCrosstab.deleteColumnGroupSummary=function(){var e=adhocDesigner.getSelectedColumnOrGroup(),o=AdHocCrosstab.getSelectedDimensionIndex(e),n=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setIncludeAllOnColumns",new Array("pos="+o,"value=false"),n,null)},AdHocCrosstab.addColumnGroupSummary=function(){var e=adhocDesigner.getSelectedColumnOrGroup(),o=AdHocCrosstab.getSelectedDimensionIndex(e),n=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setIncludeAllOnColumns",new Array("pos="+o,"value=true"),n,null)},AdHocCrosstab.sortControlClicked=function(e){if(AdHocCrosstab.requestsInProgress<1){AdHocCrosstab.requestsInProgress++;var o=function(e){AdHocCrosstab.requestsInProgress--,localContext.standardCrosstabOpCallback(e),designerBase.unSelectAll()};designerBase.sendRequest("cr_sortControlClicked",new Array("i="+e),o,null)}},AdHocCrosstab.sortingChosen=function(e,o){var n=designerBase.getSelectedObject();n.type=e;var s=function(e){localContext.standardCrosstabOpCallback(e),designerBase.unSelectAll()};designerBase.sendRequest("cr_"+o,["axis="+n.axis,"dimension="+n.dimensionId||"","level="+n.level||"","path="+encodeURIComponent(n.path||""),"sortType="+e],s,null)},AdHocCrosstab.updateViewCallback=function(e){localContext.standardCrosstabOpCallback(e)},AdHocCrosstab.setCategoryForRowGroup=function(e,o){var n=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setRowGroupCategorizer",new Array("cat="+encodeText(e),"i="+o),n,null)},AdHocCrosstab.setCategoryForColumnGroup=function(e,o){var n=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setColumnGroupCategorizer",new Array("cat="+encodeText(e),"i="+o),n,null)},AdHocCrosstab.setMask=function(e,o){var n=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setDataMask",new Array("m="+encodeText(e),"i="+o),n,null)},AdHocCrosstab.setSummaryFunction=function(e,o){var n=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setSummaryFunction",new Array("f="+e,"i="+o),n,null)},AdHocCrosstab.setSummaryFunctionAndMask=function(e,o,n){var s=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setSummaryFunctionAndDataMask",new Array("f="+e,"m="+encodeText(o),"i="+n),s,null)},AdHocCrosstab.getOverflowRowGroups=function(){var e=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_showInUnsafeRowMode",[],e,null)},AdHocCrosstab.getOverflowColumnGroups=function(){var e=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_showInUnsafeColumnMode",[],e,null)},AdHocCrosstab.getDrillUrl=function(){var e=removeTrailingPound(document.location.href),o=e.toQueryParams();return o=_.pick(o,"realm","_flowExecutionKey","_eventId"),_.extend(o,{_flowId:"adhocFlow",reportType:"table",usePreparedState:"true",clientKey:Math.floor(9999999999999*Math.random())}),"flow.html?"+jQuery.param(o)},AdHocCrosstab.createJSONDrillThrough=function(e,o){return JSON.stringify({type:"path_expression",pathList:[encodeURIComponent(e),encodeURIComponent(o)]})},AdHocCrosstab.drill=function(e,o){if(AdHocCrosstab.allowDrill!==!1){AdHocCrosstab.allowDrill=!1,isIPad()&&(JRS.vars.win=window.open());var n=function(e){if(AdHocCrosstab.allowDrill=!0,e.success){var o=function(){if(isIPad())JRS.vars.win.location=AdHocCrosstab.getDrillUrl();else{var e="width=1000,left=200,top=100,height="+Math.round(.8*jQuery(window).height());window.name="",runPopup=window.open(AdHocCrosstab.getDrillUrl(),"drillTable",e),runPopup.focus()}};setTimeout(o,0)}},s=function(){AdHocCrosstab.allowDrill=!0},t=AdHocCrosstab.createJSONDrillThrough(localContext.state.rowNodeList[e],localContext.state.columnNodeList[o]);if(!isIPad()||!JRS.vars.element_scrolled){var a=["drillThroughAdhocFilter="+t];window.isEmbeddedDesigner&&a.push("embeddedDesigner=true"),designerBase.sendRequest("cr_prepareDrillTableState",a,n,null,s)}return!1}},AdHocCrosstab.getDrillOlapUrl=function(e){return"flow.html?_flowId=viewAdhocReportFlow&clientKey="+clientKey+"&reportUnit="+e+"&noReturn=true"},AdHocCrosstab.drillOLAP=function(e,o){if(AdHocCrosstab.allowDrill!==!1){AdHocCrosstab.allowDrill=!1;var n=function(e){if(AdHocCrosstab.allowDrill=!0,e.tempARUName)if(localContext.tempARUName=e.tempARUName,isIPad());else{var o="width=1000,left=200,top=100,height="+Math.round(.8*jQuery(window).height());windowPopUp=window.open("","jr",o),windowPopUp.location=localContext.getDrillOlapUrl(e.tempARUName)}},s=function(){AdHocCrosstab.allowDrill=!0},t=AdHocCrosstab.createJSONDrillThrough(localContext.state.rowNodeList[e],localContext.state.columnNodeList[o]);if(!isIPad()||!JRS.vars.element_scrolled){var a=["drillThroughAdhocFilter="+t];window.isEmbeddedDesigner&&a.push("embeddedDesigner=true"),designerBase.sendRequest("cr_prepareDrillTableStateOLAP",a,n,null,s)}return!1}},AdHocCrosstab.getIsHideEmptyRows=function(){return AdHocCrosstab.state.crosstabState.hideEmptyRows},AdHocCrosstab.hideEmptyRowsEquals=function(e){return localContext.getIsHideEmptyRows()===e},AdHocCrosstab.setHideEmptyRows=function(){var e=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setProperty",new Array("name=hideEmptyRows","value=true"),e,null)},AdHocCrosstab.setUnhideEmptyRows=function(){var e=function(e){localContext.standardCrosstabOpCallback(e)};designerBase.sendRequest("cr_setProperty",new Array("name=hideEmptyRows","value=false"),e,null)},AdHocCrosstab.standardOpCallback=function(e){e?localContext.standardCrosstabOpCallback(e):window.console&&console.log("Internal server error occurred")},AdHocCrosstab.getCallbacksForPivot=function(){localContext.standardOpCallback()},AdHocCrosstab.undoAndRedoCallback=function(){adhocDesigner.undoAndRedoCallback(),localContext.standardCrosstabOpCallback()},AdHocCrosstab.updateCustomFieldCallback=function(){this.standardCrosstabOpCallback()},AdHocCrosstab.reInitOverlayCallback=function(){},AdHocCrosstab.standardCrosstabOpCallback=function(e){adhocDesigner.render(e)};