AdHocCrosstab.showCrosstabMenu=function(e,o){adhocDesigner.showDynamicMenu(e,o,null,function(e,o){return e=AdHocCrosstab.updateContextMenuWithSiblingLevels(e,o),AdHocCrosstab.generateAvailableSummaryCalculationsMenu(e,o)})},AdHocCrosstab.addFieldToXtab=function(e,o,r){var n=r.element();if(n){var s=matchMeOrUp(n,localContext.DM_AXIS_LIST_PATTERN);if(s){var t=$(s).identify();t.startsWith(localContext.OLAP_COLUMNS_ID)?AdHocCrosstab.appendDimensionToColumnAxisWithLevel():t.startsWith(localContext.OLAP_ROWS_ID)&&AdHocCrosstab.appendDimensionToRowAxisWithLevel()}}},AdHocCrosstab.processFieldAsColumnGroup=function(e,o,r){var n=r,s=null,t=e.identify();if(t.startsWith("colGroupHeaderRow_")||t.startsWith("colGroupHeader_"))try{s=o.exec(t)[0],n=parseInt(s)+1}catch(a){}AdHocCrosstab.addFieldAsColumnGroup(n)},AdHocCrosstab.processFieldAsMeasure=function(e,o,r){var n=r,s=null,t=e.identify();if(t.startsWith("measureHeader_"))try{s=o.exec(t)[0],n=parseInt(s)+1}catch(a){}else("A"==e.nodeName||"LI"==e.nodeName)&&("A"==e.nodeName&&(e=e.up("li.leaf")),e&&(n=$(e).previousSiblings().length));addFieldAsMeasure(n,!0)},AdHocCrosstab.processFieldAsRowGroup=function(e,o,r){var n=r,s=null,t=e.identify();if(t.startsWith("rowGroup_")||t.startsWith("rowGroupHeader_"))try{s=o.exec(t)[0],n=parseInt(s)+1}catch(a){}AdHocCrosstab.addFieldAsRowGroup(n)},AdHocCrosstab.moveRowGroupLeft=function(e){var o=adhocDesigner.getSelectedColumnOrGroup(),r=AdHocCrosstab.getSelectedDimensionIndex(o),n=r-1;AdHocCrosstab.moveRowGroup(r,n,e)},AdHocCrosstab.moveRowGroupRight=function(e){var o=adhocDesigner.getSelectedColumnOrGroup(),r=AdHocCrosstab.getSelectedDimensionIndex(o),n=r+1;AdHocCrosstab.moveRowGroup(r,n,e)},AdHocCrosstab.moveColumnGroupLeft=function(e){var o=adhocDesigner.getSelectedColumnOrGroup(),r=AdHocCrosstab.getSelectedDimensionIndex(o),n=r-1;AdHocCrosstab.moveColumnGroup(r,n,e)},AdHocCrosstab.moveColumnGroupRight=function(e){var o=adhocDesigner.getSelectedColumnOrGroup(),r=AdHocCrosstab.getSelectedDimensionIndex(o),n=r+1;AdHocCrosstab.moveColumnGroup(r,n,e)},AdHocCrosstab.moveMeasureLeft=function(){var e=adhocDesigner.getSelectedColumnOrGroup();AdHocCrosstab.moveMeasure(e.level,e.index-1)},AdHocCrosstab.moveMeasureRight=function(){var e=adhocDesigner.getSelectedColumnOrGroup();AdHocCrosstab.moveMeasure(e.level,e.index+1)},AdHocCrosstab.moveRowGroupOnDrag=function(){draggingMoveOverIndex=parseInt(draggingMoveOverIndex),currentlyDraggingIndex=parseInt(currentlyDraggingIndex),currentlyDraggingIndex!=draggingMoveOverIndex&&(currentlyDraggingIndex>=0&&draggingMoveOverIndex>=0?AdHocCrosstab.moveRowGroup(currentlyDraggingIndex,draggingMoveOverIndex):-1==draggingMoveOverIndex&&AdHocCrosstab.removeRowGroup(currentlyDraggingIndex))},AdHocCrosstab.hideLevel=function(){var e=getDimensionWithLevelFromSelection();selectionCategory.area===designerBase.COLUMN_GROUP_MENU_LEVEL?AdHocCrosstab.hideColumnLevel(e.dimensionId,e.level):selectionCategory.area===designerBase.ROW_GROUP_MENU_LEVEL&&AdHocCrosstab.hideRowLevel(e.dimensionId,e.level)},AdHocCrosstab.showLevel=function(){var e=AdHocCrosstab.getDimensionWithLevelFromSelection();selectionCategory.area===designerBase.COLUMN_GROUP_MENU_LEVEL?AdHocCrosstab.showColumnLevel(e.dimensionId,e.level):selectionCategory.area===designerBase.ROW_GROUP_MENU_LEVEL&&AdHocCrosstab.showRowLevel(e.dimensionId,e.level)},AdHocCrosstab.moveColumnGroupDown=function(e){var o=adhocDesigner.getSelectedColumnOrGroup(),r=AdHocCrosstab.getSelectedDimensionIndex(o),n=r+1;AdHocCrosstab.moveColumnGroup(r,n,e)},AdHocCrosstab.moveColumnGroupUp=function(e){var o=adhocDesigner.getSelectedColumnOrGroup(),r=AdHocCrosstab.getSelectedDimensionIndex(o),n=r-1;AdHocCrosstab.moveColumnGroup(r,n,e)},AdHocCrosstab.moveColumnGroupOnDrag=function(){draggingMoveOverIndex=parseInt(draggingMoveOverIndex),currentlyDraggingIndex=parseInt(currentlyDraggingIndex),currentlyDraggingIndex!=draggingMoveOverIndex&&(currentlyDraggingIndex>=0&&draggingMoveOverIndex>=0?AdHocCrosstab.moveColumnGroup(currentlyDraggingIndex,draggingMoveOverIndex):-1==draggingMoveOverIndex&&AdHocCrosstab.removeColumnGroup(currentlyDraggingIndex))},AdHocCrosstab.moveMeasureOnDrag=function(){draggingMoveOverIndex=parseInt(draggingMoveOverIndex),currentlyDraggingIndex=parseInt(currentlyDraggingIndex),currentlyDraggingIndex!=draggingMoveOverIndex&&(currentlyDraggingIndex>=0&&draggingMoveOverIndex>=0?AdHocCrosstab.moveMeasure(currentlyDraggingIndex,draggingMoveOverIndex):-1==draggingMoveOverIndex&&AdHocCrosstab.removeMeasure(currentlyDraggingIndex))},AdHocCrosstab.retrieveOverflowRowGroups=function(){var e=confirm(adhocDesigner.getMessage("overflowConfirmMessage"));e&&AdHocCrosstab.getOverflowRowGroups()},AdHocCrosstab.retrieveOverflowColumnGroups=function(){var e=confirm(adhocDesigner.getMessage("overflowConfirmMessage"));e&&AdHocCrosstab.getOverflowColumnGroups()},AdHocCrosstab.selectMeasureMask=function(e){var o=AdHocCrosstab.getSelectedMeasure();if(o){var r=selObjects.first().index;AdHocCrosstab.setMask(e,r)}},AdHocCrosstab.selectFunction=function(e){var o=AdHocCrosstab.getSelectedMeasure(),r=selObjects.first();if(o){var n=adhocDesigner.getSuperType(o.type),s=AdHocCrosstab.getMeasureTypeByFunction(e);n!==s?AdHocCrosstab.setSummaryFunctionAndMask(e,defaultMasks[s],r.index):AdHocCrosstab.setSummaryFunction(e,r.index)}},AdHocCrosstab.selectedMeasureShowsSummaryOptions=function(){return!!AdHocCrosstab.getSelectedMeasure()},AdHocCrosstab.selectedMeasureShowsNumericSummaryOptions=function(){return localContext.selectedMeasureShowsSummaryOptions()&&localContext.isSelectedMeasureNumeric()},AdHocCrosstab.setCatForColumnGroup=function(e){var o=adhocDesigner.getSelectedColumnOrGroup();o&&AdHocCrosstab.isColumnGroupSelected(o)&&AdHocCrosstab.setCategoryForColumnGroup(e,o.groupIndex)},AdHocCrosstab.setCatForRowGroup=function(e){var o=adhocDesigner.getSelectedColumnOrGroup();o&&AdHocCrosstab.isRowGroupSelected(o)&&AdHocCrosstab.setCategoryForRowGroup(e,o.groupIndex)},AdHocCrosstab.appendDimensionWithLevel=function(e,o){var r=e?localContext.getAvailableFieldsNodeBySelection(e.id,e.groupId):localContext.getAvailableFieldsNodeBySelection();r.axis=o,AdHocCrosstab.showAddHierarchyConfirm(r.hierarchyName,r.dimensionId,function(){jQuery("#"+adhocDesigner.DISPLAY_MANAGER_ID).trigger("lm:addItem",r)})||jQuery("#"+adhocDesigner.DISPLAY_MANAGER_ID).trigger("lm:addItem",r)},AdHocCrosstab.appendDimensionToRowAxisWithLevel=function(e){AdHocCrosstab.appendDimensionWithLevel(e,"row")},AdHocCrosstab.appendDimensionToColumnAxisWithLevel=function(e){AdHocCrosstab.appendDimensionWithLevel(e,"column")},AdHocCrosstab.appendMeasureToRow=function(e){var o=e?localContext.getAvailableFieldsNodesBySelection(e):localContext.getAvailableFieldsNodesBySelection();jQuery("#"+adhocDesigner.DISPLAY_MANAGER_ID).trigger("lm:addItems",{axis:"row",levels:o,index:o[0].index})},AdHocCrosstab.appendMeasureToColumn=function(e){var o=e?localContext.getAvailableFieldsNodesBySelection(e):localContext.getAvailableFieldsNodesBySelection();jQuery("#"+adhocDesigner.DISPLAY_MANAGER_ID).trigger("lm:addItems",{axis:"column",levels:o,index:o[0].index})},AdHocCrosstab.removeLevelFromRow=function(){var e=localContext.getSelectedObject();jQuery("#"+adhocDesigner.DISPLAY_MANAGER_ID).trigger("lm:removeItem",{axis:"row",index:e.index,item:{level:e.level,dimensionId:e.dimensionId,isMeasure:e.isMeasure}})},AdHocCrosstab.removeLevelFromColumn=function(){var e=localContext.getSelectedObject();jQuery("#"+adhocDesigner.DISPLAY_MANAGER_ID).trigger("lm:removeItem",{axis:"column",index:e.index,item:{level:e.level,dimensionId:e.dimensionId,isMeasure:e.isMeasure}})},AdHocCrosstab.selectedGroupCanShowSummary=function(){var e=AdHocCrosstab.getSelectedGroup(adhocDesigner.getSelectedColumnOrGroup()),o=AdHocCrosstab.getGroupParent(e);return o?o.expanded===!0&&!AdHocCrosstab.selectedGroupHasSummary():!AdHocCrosstab.selectedGroupHasSummary()},AdHocCrosstab.selectedColumnGroupCanHideSummary=function(){var e=AdHocCrosstab.canHideSummariesForColumnGroup(),o=AdHocCrosstab.getSelectedGroup(adhocDesigner.getSelectedColumnOrGroup()),r=AdHocCrosstab.getGroupParent(o);return e?r?r.expanded===!0&&AdHocCrosstab.selectedGroupHasSummary():AdHocCrosstab.selectedGroupHasSummary():!1},AdHocCrosstab.selectedRowGroupCanHideSummary=function(){var e=AdHocCrosstab.canHideSummariesForRowGroup();return e?AdHocCrosstab.selectedGroupHasSummary():!1},AdHocCrosstab.getGroupParent=function(e){var o,r=-1;return localContext.state.columnGroups.detect(function(o,n){return o.name===e.name?r=n-1:void 0}),r>=0&&(o=localContext.state.columnGroups[r]),o},AdHocCrosstab.selectedGroupHasSummary=function(){var e=AdHocCrosstab.getSelectedGroup(adhocDesigner.getSelectedColumnOrGroup());return e?e.isShowingSummary===!0:!1},AdHocCrosstab.selectedRowGroupIsCollapsible=function(){var e=adhocDesigner.getSelectedColumnOrGroup();return e&&e.expandable},AdHocCrosstab.selectedColumnGroupIsCollapsible=function(){var e=adhocDesigner.getSelectedColumnOrGroup();return e&&e.expandable};