dd_tables.autoGenerateJoinsValidator={_REGENERATE_JOINS_TEMPLATE_ID:"regenerateJoinsConfirmMessage",_REGENERATE_JOINS_CHECKBOX_PATTERN:"label[for=inspectAndJoin]",_REGENERATE_JOINS_CHECKBOX_DOM_ID:"inspectAndJoin",_JOINS_DETAILS_LINK_ID:"#joinsDetails",_joinsCheckbox:null,_joinsList:[],init:function(i){dd_tables.autoGenerateJoinsValidator._init.bind(dd_tables.autoGenerateJoinsValidator,i)()},_init:function(i){this._buildJoinsList(i),this._joinsCheckbox=$(this._REGENERATE_JOINS_CHECKBOX_DOM_ID),this._joinsCheckbox.observe("checkbox:check",this._checkBoxCheck.bindAsEventListener(this)),domain.registerClickHandlers([this._clickEventHandler.bind(this)])},_clickEventHandler:function(i){if(matchAny(i,[this._REGENERATE_JOINS_CHECKBOX_PATTERN],!0)){var e=this._joinsList.length>0,t=i.identify()===this._REGENERATE_JOINS_CHECKBOX_DOM_ID?$F(this._joinsCheckbox):!$F(this._joinsCheckbox);return e&&t?(domain.confirmDialog.show(this._REGENERATE_JOINS_TEMPLATE_ID,this._onOk.bind(this),this._onCancel.bind(this),this._showAffectedResources.bind(this)),!0):domain.PROPAGATE_EVENT}},_buildJoinsList:function(i){this._joinsList=[];var e={};i&&i.each(function(i){e[i.left]=i.left,e[i.right]=i.right});for(var t in e)this._joinsList.push(t)},_checkBoxCheck:function(){dd.setUnsavedChangesPresent(!0),this._joinsCheckbox.checked=!0},_onOk:function(){this._joinsCheckbox.fire("checkbox:check")},_onCancel:function(){},_showAffectedResources:function(i){return domain.elementClicked(i,this._JOINS_DETAILS_LINK_ID)?(domain.detailsDialog.show(this._joinsList),!0):void 0}},dd_tables.invalidSelectedTablesValidator={_DELTE_SCHEMA_RESOURCES_TEMPLATE_ID:"deleteSchemaResourcesConfirmMessage",_RESOURCE_DETAILS_LINK_ID:"#schemaResourceDetails",_invalidFields:null,_invalidFieldLabels:null,_callback:null,_findInvalidFields:null,_removeInvalidFields:null,init:function(i,e){dd_tables.invalidSelectedTablesValidator._init.bind(dd_tables.invalidSelectedTablesValidator,i,e)()},validate:function(i){dd_tables.invalidSelectedTablesValidator._validate.bind(dd_tables.invalidSelectedTablesValidator,i)()},_init:function(i,e){this._findInvalidFields=i,this._removeInvalidFields=e},_validate:function(i){return this._callback=i,this._invalidFields=this._findInvalidFields(),this._invalidFields&&this._invalidFields.first()?(this._invalidFieldLabels=this._invalidFields.collect(function(i){return i.param.extra.table+"."+i.param.extra.itemId}),void domain.confirmDialog.show(this._DELTE_SCHEMA_RESOURCES_TEMPLATE_ID,this._onOk.bind(this),this._onCancel.bind(this),this._showAffectedResources.bind(this))):void(this._callback&&this._callback())},_onOk:function(){this._removeInvalidFields(this._invalidFields),this._callback&&this._callback()},_onCancel:function(){this._callback&&this._callback()},_showAffectedResources:function(i){return domain.elementClicked(i,this._RESOURCE_DETAILS_LINK_ID)?(domain.detailsDialog.show(this._invalidFieldLabels),!0):void 0}},dd_tables.fixSchemaPrefixesValidator={_FIX_SCHEMA_PREFIXES_TEMPLATE_DOM_ID:"fixSchemaPrefixesConfirmMessage",_TABLE_DETAILS_LINK_ID:"#tablesDetails",_invalidTableLabels:null,_callback:null,_fixSchemaPrefixes:null,_selectedSchemasList:null,_dataSource:null,init:function(i){dd_tables.fixSchemaPrefixesValidator._init.bind(dd_tables.fixSchemaPrefixesValidator,i)()},validate:function(i,e,t,s){dd_tables.fixSchemaPrefixesValidator._validate.bind(dd_tables.fixSchemaPrefixesValidator,i,e,t,s)()},_init:function(i){this._fixSchemaPrefixes=i},_validate:function(i,e,t,s){var a=i();this._callback=e,this._selectedSchemasList=t,this._dataSource=s,a&&a.first()?(this._buildInvalidTableLabels(a),domain.confirmDialog.show(this._FIX_SCHEMA_PREFIXES_TEMPLATE_DOM_ID,this._onOk.bind(this),this._onCancel.bind(this),this._showAffectedResources.bind(this))):e&&e()},_buildInvalidTableLabels:function(i){this._invalidTableLabels=[];var e={};i.each(function(i){e[i.param.extra.table]=i.param.extra.table});for(var t in e)this._invalidTableLabels.push(t)},_onOk:function(){pageDimmer.show(),this._fixSchemaPrefixes(this._dataSource,this._selectedSchemasList)},_onCancel:function(){this._callback&&this._callback()},_showAffectedResources:function(i){return domain.elementClicked(i,this._TABLE_DETAILS_LINK_ID)?(domain.detailsDialog.show(this._invalidTableLabels),!0):void 0}};