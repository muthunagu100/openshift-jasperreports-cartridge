JRS.EditOptions=function(t,o,n){return n.Base.extend({constructor:function(e,i){this.controlsController=new n.Controller({reportUri:i}),this.viewModel=this.controlsController.getViewModel(),this.controlsController.fetchControlsStructure();var l=t(e);l.on("click","button#done",o.bind(this.handleClick,this,l[0],"save")),l.on("click","button#cancel",o.bind(this.handleClick,this,l[0],"cancel"))},handleClick:function(t,n,e){e.preventDefault(),t.method="post",t._eventId.value=n,"cancel"==n?t.submit():"save"==n&&this.controlsController.validate().then(o.bind(function(o){o&&this.submitForm(t)},this))},submitForm:function(t){var o=this.viewModel.get("selection");o&&addDataToForm(t,o),t.submit()}})}(jQuery,_,JRS.Controls);