define(["require","exports","module","../BaseInputControlView","../../util/resizer","jquery","underscore","common/util/browserDetection","logger","mustache","../../util/inputControlHelpers","text!../../template/singleSelectRadioTemplate.htm","text!../../template/radioInputItem.htm"],function(e,t,i){var n=e("../BaseInputControlView"),s=e("../../util/resizer"),o=e("jquery"),l=e("underscore"),r=e("common/util/browserDetection"),a=(e("logger").register(i),e("mustache")),h=e("../../util/inputControlHelpers"),u=e("text!../../template/singleSelectRadioTemplate.htm"),d=e("text!../../template/radioInputItem.htm");return n.extend({template:u,renderStructure:function(){return this.$el=o(a.to_html(this.template||"",this.model.toJSON())),this.makeResizable(),this.renderOptions(),this},renderOptions:function(){var e=this.$el.find("ul")[0],t=l.map(this.model.state.options.toJSON(),function(e){var t=l.clone(e);return t.readOnly=this.model.get("readOnly"),t.name=this.getOptionName(),t.uuid=l.uniqueId(this.model.get("id")),t},this);h.setInnerHtml(e,function(e){return a.to_html(d,e)},{data:t}),r.isIE()&&(e.innerHTML+="&nbsp;"),o(e).find("li").length<5&&this.$el[0].clientHeight<125?(this.$el.find(".sizer").addClass("hidden"),this.$el.find(".inputSet").removeClass("sizable").attr("style",!1)):this.resizable&&(this.$el.find(".sizer").removeClass("hidden"),this.$el.find(".inputSet").addClass("sizable"))},updateOptionsSelection:function(){var e=this;this.model.state.options.each(function(t){e.$el.find("input[value='"+t.get("value")+"']").prop("checked",t.get("selected"))})},getOptionName:function(){return this.model.get("id")+"_option"},bindCustomEventListeners:function(){var e=this;this.$el.on("change","input",l.bind(function(t){var i=t.target.value;setTimeout(function(){e.model.changeState(i)})},this)),this.model.state.options.on("reset",this.renderOptions,this),this.model.state.options.on("change:selected",this.updateOptionsSelection,this)},makeResizable:function(){this.resizable=!0;var e=this.$el.find("ul"),t=this.$el.find(".sizer");s.createSizer(e,t,{axis:"s"})},remove:function(){this.$el.off("change","input"),this.singleSelect&&this.singleSelect.remove(),this.model.state.options.off("reset",this.renderOptions,this),this.model.state.options.off("change:selected",this.updateOptionsSelection,this),n.prototype.remove.call(this)}})});