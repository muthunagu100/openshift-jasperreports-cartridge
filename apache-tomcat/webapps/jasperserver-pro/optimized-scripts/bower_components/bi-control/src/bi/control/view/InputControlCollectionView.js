define(["require","exports","module","jquery","underscore","backbone","domReady","../enum/uiTypes","logger"],function(e,t,i){{var n=e("jquery"),o=e("underscore"),s=e("backbone"),r=e("domReady"),c=e("../enum/uiTypes");e("logger").register(i)}return s.View.extend({el:"<div style='height: 100%;'></div>",$icContainer:!1,$icList:!1,initialize:function(e){this.stateModel=e.stateModel,this.uiTypes=c,this.controlViews={},this.containerAttachedToDOM=new n.Deferred,this.$el.css("position","relative"),this.collection.on("reset",this._createControlViews,this),this.collection.on("disableICs",this._disableICs,this),this.collection.on("enableICs",this._enableICs,this)},_createControlViews:function(){var e=this;this.controlViews={},e.collection.each(o.bind(e._createControlView,e)),e.render()},_createControlView:function(e){var t=e.get("type"),i=e.get("id");if(!o.has(this.uiTypes,t))throw new Error("Can not find implementation of the control type: "+t);return e.get("visible")&&(this.controlViews[i]=new this.uiTypes[t]({model:e})),this.controlViews[i]},setContainer:function(e){var t=n(e),i=this;t.length&&(t.empty(),this.$icContainer=t,this.containerAttachedToDOM=new n.Deferred,r(function(){var e=i.$icContainer;e.html(i.$el),i.containerAttachedToDOM.resolve()}))},render:function(){var e=this,t=new n.Deferred;return this.containerAttachedToDOM.done(function(){e.$el.empty(),e.$icList=n("<div class='list inputControls'></div>"),e.$el.append(e.$icList),e._renderControls(),t.resolve()}),t},_renderControls:function(){var e=this;this.collection.each(function(t){e.controlViews[t.get("id")]&&e.$icList.append(e.controlViews[t.get("id")].$el)}),this.trigger("controls:rendered")},disable:function(){o.pluck(this.controlViews,"disable")},enable:function(){o.pluck(this.controlViews,"enable")},_disableICs:function(e){var t=this;o.each(e,function(e){t.controlViews[e]&&t.controlViews[e].disable()})},_enableICs:function(e){var t=this;o.each(e,function(e){t.controlViews[e]&&t.controlViews[e].enable()})},remove:function(){o.pluck(this.controlViews,"remove"),this.collection.off("reset",this._createControlViews,this),s.View.prototype.remove.call(this)}})});