define(["require","exports","module","../BaseInputControlView","jquery","underscore","logger","common/component/singleSelect/view/SingleSelect","common/component/singleSelect/dataprovider/CacheableDataProvider","mustache","../../util/inputControlHelpers","text!../../template/singleSelectTemplate.htm"],function(e,t,i){var n=e("../BaseInputControlView"),s=e("jquery"),o=(e("underscore"),e("logger").register(i),e("common/component/singleSelect/view/SingleSelect")),l=e("common/component/singleSelect/dataprovider/CacheableDataProvider"),a=e("mustache"),c=e("../../util/inputControlHelpers"),r=e("text!../../template/singleSelectTemplate.htm");return n.extend({template:r,renderStructure:function(){this.singleSelect||(this.dataProvider=new l,this.singleSelect=new o({getData:this.dataProvider.getData}).setDisabled(this.model.get("readOnly"))),this.template&&(this.singleSelect.undelegateEvents(),this.$el.html(s(a.to_html(this.template,this.model.toJSON()))),this.singleSelect.render().renderData(),this.$el.find(".ssPlaceholder").append(this.singleSelect.el),this.singleSelect.delegateEvents(),this.updateOptionsSelection())},updateOptionsSelection:function(){var e=this.model.state.options.toJSON();this.dataProvider.setData(e);var t=this;this.singleSelect.fetch(function(){t.singleSelect.setValue(c.extractSelection(e,!0),{silent:!0})})},bindCustomEventListeners:function(){this.singleSelect.off("selection:change").on("selection:change",function(e){this.model.changeState(e)},this),this.model.state.options.on("reset",this.updateOptionsSelection,this),this.model.state.options.on("change:selected",this.updateOptionsSelection,this)},remove:function(){this.$el.off("change","input"),this.$el.off("click","a"),this.singleSelect.remove(),this.model.state.options.off("reset",this.updateOptionsSelection,this),this.model.state.options.off("change:selected",this.updateOptionsSelection,this),n.prototype.remove.call(this)}})});