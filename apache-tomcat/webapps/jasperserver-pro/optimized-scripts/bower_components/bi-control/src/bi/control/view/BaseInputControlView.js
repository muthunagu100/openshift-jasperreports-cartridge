define(["require","exports","module","underscore","backbone","jquery","domReady","mustache","logger","bundle!jasperserver_messages"],function(e,t,i){var s=(e("underscore"),e("backbone")),n=e("jquery"),r=(e("domReady"),e("mustache")),o=(e("logger").register(i),e("bundle!jasperserver_messages"));return s.View.extend({constructor:function(e){if(!(e&&e.model&&e.model instanceof s.Model))throw new Error("View should have associated Backbone.Model");s.View.apply(this,arguments)},initialize:function(){this.i18n=o,this.renderStructure(),this.renderState(),this.model.get("visible")&&this.bindCustomEventListeners(),this.model.state.on("reset change",this.updateWarningMessage,this),this.model.on("change:label",this.reRender,this),this.updateWarningMessage()},renderStructure:function(){return this.$el=n(r.to_html(this.template||"",this.model.toJSON())),this},renderState:function(){this.updateValue(this.model.state.get("value"))},updateValue:function(){},bindCustomEventListeners:function(){},enable:function(){return this.multiSelect?void this.multiSelect.setDisabled(!1):this.singleSelect?void this.singleSelect.setDisabled(!1):void this.$el.find("input, select").prop("disabled",!1)},disable:function(){return this.multiSelect?void this.multiSelect.setDisabled(!0):this.singleSelect?void this.singleSelect.setDisabled(!0):void this.$el.find("input, select").prop("disabled",!0)},updateWarningMessage:function(){var e=null!=this.model.state.get("error")?this.model.state.get("error"):"";this.$el.find(".warning").text(e)},makeResizable:function(){},remove:function(){this.model.state.off("reset change:error",this.updateWarningMessage,this),s.View.prototype.remove.call(this)},reRender:function(){this.renderStructure(),this.model.get("visible")&&this.bindCustomEventListeners()},getAmountOfLinesToDisplay:function(){var e=3,t=this.model.get("linesToDisplay")||e;return t=Math.max(t,e)}})});