define(["require","exports","module","underscore","json3","common/bi/component/util/biComponentUtil","common/bi/component/BiComponent","./model/InputControlPropertiesModel","./collection/InputControlCollection","common/bi/error/biComponentErrorFactory","text!./schema/InputControls.json","logger"],function(e,o,t){function r(e,o,t){var r=this.validate(),p=this;if(r)return void e.reject(m.validationError(r));n(o,t);var a=o.properties.params&&i.keys(o.properties.params).length?"update":"fetch",s="update"===a?{params:o.properties.params}:void 0;t[a](s).done(function(){o.data=t.toJSON(),e.resolve(p.data())}).fail(function(o){e.reject(m.requestError(o))})}function n(e,o){i.extend(o,{resourceUri:e.properties.resource,contextPath:e.properties.server})}var i=e("underscore"),p=e("json3"),a=e("common/bi/component/util/biComponentUtil"),s=e("common/bi/component/BiComponent"),c=e("./model/InputControlPropertiesModel"),l=e("./collection/InputControlCollection"),m=e("common/bi/error/biComponentErrorFactory"),d=p.parse(e("text!./schema/InputControls.json")),u=(e("logger").register(t),i.keys(d.properties)),C=["properties"],v=["data"],f=function(e){var o={properties:i.extend({},e),data:[]},t=new c(e||{});a.createInstancePropertiesAndFields(this,o,u,C,v,t);var n=new l([],{stateModel:t});i.extend(this,{validate:a.createValidateAction(o,d,t),run:a.createDeferredAction(r,t,o,n)})};return f.prototype=new s,f});