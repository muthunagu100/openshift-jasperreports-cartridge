define(["require","underscore","./BaseAutowiringStrategy","../../enum/dashboardComponentTypes"],function(e){function n(e,n,r){var t=o.filter(e.dependentControls,function(e){return o.contains(e.get("masterDependencies"),r.resource.resource.get("id"))}),s=n.find(function(e){return e.component.resource&&e.component.resource.id===r.resource.id});o.each(t,function(e){s.consumers.add({consumer:e.id+":"+r.resource.resource.get("id")})})}function r(e,n,r,t){o.each(o.keys(t.slots),function(e){var o=n.find(function(n){return n.get("name")==e&&n.component.get("ownerResourceId")==r.get("ownerResourceId")});o&&o.consumers.add({consumer:r.id+":"+e})})}var o=e("underscore"),t=e("./BaseAutowiringStrategy"),s=e("../../enum/dashboardComponentTypes");return t.extend({constructor:function(){this.dependentControls=[]},autowire:function(e,o,t){o.resource&&o.resource.resource&&o.resource.resource.type===s.INPUT_CONTROL&&(o.get("masterDependencies")&&o.get("masterDependencies").length&&this.dependentControls.push(o),n(this,e,o,t),r(this,e,o,t))}})});