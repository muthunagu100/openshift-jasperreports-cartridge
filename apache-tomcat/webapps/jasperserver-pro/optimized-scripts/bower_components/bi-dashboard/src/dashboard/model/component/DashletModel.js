define(["require","exports","module","jquery","underscore.string","underscore","./DashboardComponentModel","../../dashboardSettings"],function(t){var e=t("jquery"),i=t("underscore.string"),r=t("underscore"),h=t("./DashboardComponentModel"),o=t("../../dashboardSettings");return h.extend({defaults:r.extend({},h.prototype.defaults,{selected:!1,x:0,y:0,width:0,height:0}),toJSON:function(){var t=h.prototype.toJSON.apply(this,arguments);return delete t.x,delete t.y,delete t.width,delete t.height,delete t.isAdhocChart,t},toHTML:function(t){var r=i.sprintf(o.DASHLET_TEMPLATE.replace(/\(\\d\+\)/g,"%d").replace(/\(\[\\w\\d\]\+\)/g,"%s"),this.get("id"),this.get("x")||0,this.get("y")||0,this.get("width")||0,this.get("height")||0);return t===!0&&(r=e(r).css(this.getCssPosition())[0].outerHTML),r},getCssPosition:function(){return{left:100*this.get("x")/o.GRID_WIDTH+"%",top:100*this.get("y")/o.GRID_HEIGHT+"%",width:100*this.get("width")/o.GRID_WIDTH+"%",height:100*this.get("height")/o.GRID_HEIGHT+"%"}},getPositionObject:function(){return{x:this.get("x"),y:this.get("y"),width:this.get("width"),height:this.get("height")}}},{htmlToPositionObject:function(t){var e,i=new RegExp(o.DASHLET_TEMPLATE),r={};if(!i.test(t))throw new Error("Cannot parse HTML into object model: "+t);return e=i.exec(t),r.id=e[1],r.x=1*e[2],r.y=1*e[3],r.width=1*e[4],r.height=1*e[5],r}})});